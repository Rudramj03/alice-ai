{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\OneDrive\\\\Documents\\\\Alice\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport Orb from \"./Orb\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nuseEffect(() => {\n  const loadVoices = () => {\n    const voices = window.speechSynthesis.getVoices();\n    console.log(\"Voices loaded:\", voices.length);\n  };\n\n  // Call once immediately\n  loadVoices();\n\n  // Also listen for async load\n  window.speechSynthesis.onvoiceschanged = loadVoices;\n  return () => {\n    window.speechSynthesis.onvoiceschanged = null;\n  };\n}, []);\nfunction App() {\n  _s();\n  const [listening, setListening] = useState(false);\n  const [speaking, setSpeaking] = useState(false);\n  const [aiText, setAiText] = useState(\"\");\n\n  // ---------------- SPEAK (Text â†’ Voice) ----------------\n  const speak = text => {\n    // If already speaking â†’ stop\n    if (window.speechSynthesis.speaking) {\n      window.speechSynthesis.cancel();\n      setSpeaking(false);\n      return;\n    }\n    const voices = window.speechSynthesis.getVoices();\n\n    // ðŸŽ¯ Force Microsoft Zira (Windows)\n    let ziraVoice = voices.find(voice => voice.name.includes(\"Zira\") && voice.lang.startsWith(\"en\"));\n\n    // Fallback (just in case)\n    if (!ziraVoice) {\n      ziraVoice = voices.find(v => v.lang.startsWith(\"en\"));\n    }\n    if (ziraVoice) {\n      utterance.voice = ziraVoice;\n      console.log(\"Using voice:\", ziraVoice.name);\n    }\n    if (selectedVoice) {\n      utterance.voice = selectedVoice;\n      console.log(\"Using voice:\", selectedVoice.name);\n    }\n    const utterance = new SpeechSynthesisUtterance(text);\n    utterance.lang = \"en-US\";\n    utterance.rate = 0.95;\n    utterance.pitch = 1.05;\n    utterance.volume = 1;\n    setSpeaking(true);\n    utterance.onend = () => {\n      setSpeaking(false);\n    };\n    window.speechSynthesis.speak(utterance);\n  };\n\n  // ---------------- LISTEN (Voice â†’ Text) ----------------\n  const startListening = () => {\n    // Stop speaking if active\n    if (window.speechSynthesis.speaking) {\n      window.speechSynthesis.cancel();\n      setSpeaking(false);\n    }\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (!SpeechRecognition) {\n      alert(\"Speech Recognition not supported in this browser\");\n      return;\n    }\n    const recognition = new SpeechRecognition();\n    recognition.lang = \"en-US\";\n    recognition.interimResults = false;\n    recognition.continuous = false;\n    setListening(true);\n    recognition.start();\n    recognition.onresult = async event => {\n      const userText = event.results[0][0].transcript;\n      setListening(false);\n      try {\n        const res = await fetch(\"http://127.0.0.1:8000/chat\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            message: userText\n          })\n        });\n        const data = await res.json();\n        setAiText(data.response);\n        speak(data.response);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    recognition.onerror = () => {\n      setListening(false);\n    };\n  };\n\n  // ---------------- BUTTON LOGIC ----------------\n  const handleButtonClick = () => {\n    if (speaking) {\n      // Stop speaking\n      window.speechSynthesis.cancel();\n      setSpeaking(false);\n      return;\n    }\n    if (!listening) {\n      startListening();\n    }\n  };\n\n  // ---------------- UI ----------------\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Orb, {\n      listening: listening,\n      speaking: speaking\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: `alice-title ${speaking ? \"speaking\" : \"\"}`,\n      children: \"Alice\".split(\"\").map((char, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"alice-letter\",\n        style: {\n          animationDelay: `${i * 0.12}s`\n        },\n        children: char\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 5\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"mic-button\",\n      onClick: handleButtonClick,\n      children: listening ? \"Listeningâ€¦\" : speaking ? \"Speakingâ€¦\" : \"Tap to Speak\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"hBWmCQM7nhcntsR+7yrNO3yBkog=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Orb","jsxDEV","_jsxDEV","useEffect","loadVoices","voices","window","speechSynthesis","getVoices","console","log","length","onvoiceschanged","App","_s","listening","setListening","speaking","setSpeaking","aiText","setAiText","speak","text","cancel","ziraVoice","find","voice","name","includes","lang","startsWith","v","utterance","selectedVoice","SpeechSynthesisUtterance","rate","pitch","volume","onend","startListening","SpeechRecognition","webkitSpeechRecognition","alert","recognition","interimResults","continuous","start","onresult","event","userText","results","transcript","res","fetch","method","headers","body","JSON","stringify","message","data","json","response","err","error","onerror","handleButtonClick","className","children","fileName","_jsxFileName","lineNumber","columnNumber","split","map","char","i","style","animationDelay","onClick","_c","$RefreshReg$"],"sources":["C:/Users/LENOVO/OneDrive/Documents/Alice/frontend/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Orb from \"./Orb\";\nimport \"./App.css\";\n\nuseEffect(() => {\n  const loadVoices = () => {\n    const voices = window.speechSynthesis.getVoices();\n    console.log(\"Voices loaded:\", voices.length);\n  };\n\n  // Call once immediately\n  loadVoices();\n\n  // Also listen for async load\n  window.speechSynthesis.onvoiceschanged = loadVoices;\n\n  return () => {\n    window.speechSynthesis.onvoiceschanged = null;\n  };\n}, []);\n\n\nfunction App() {\n  const [listening, setListening] = useState(false);\n  const [speaking, setSpeaking] = useState(false);\n  const [aiText, setAiText] = useState(\"\");\n\n  // ---------------- SPEAK (Text â†’ Voice) ----------------\n  const speak = (text) => {\n    // If already speaking â†’ stop\n    if (window.speechSynthesis.speaking) {\n      window.speechSynthesis.cancel();\n      setSpeaking(false);\n      return;\n    }\n  const voices = window.speechSynthesis.getVoices();\n  \n   // ðŸŽ¯ Force Microsoft Zira (Windows)\n  let ziraVoice = voices.find(\n    (voice) =>\n      voice.name.includes(\"Zira\") && voice.lang.startsWith(\"en\")\n  );\n\n  // Fallback (just in case)\n  if (!ziraVoice) {\n    ziraVoice = voices.find(v => v.lang.startsWith(\"en\"));\n  }\n\n  if (ziraVoice) {\n    utterance.voice = ziraVoice;\n    console.log(\"Using voice:\", ziraVoice.name);\n  }\n\n\n  if (selectedVoice) {\n    utterance.voice = selectedVoice;\n    console.log(\"Using voice:\", selectedVoice.name);\n  }\n\n    const utterance = new SpeechSynthesisUtterance(text);\n    utterance.lang = \"en-US\";\n    utterance.rate = 0.95;\n    utterance.pitch = 1.05;\n    utterance.volume = 1;\n\n    setSpeaking(true);\n\n    utterance.onend = () => {\n      setSpeaking(false);\n    };\n\n    window.speechSynthesis.speak(utterance);\n  };\n\n  // ---------------- LISTEN (Voice â†’ Text) ----------------\n  const startListening = () => {\n    // Stop speaking if active\n    if (window.speechSynthesis.speaking) {\n      window.speechSynthesis.cancel();\n      setSpeaking(false);\n    }\n\n    const SpeechRecognition =\n      window.SpeechRecognition || window.webkitSpeechRecognition;\n\n    if (!SpeechRecognition) {\n      alert(\"Speech Recognition not supported in this browser\");\n      return;\n    }\n\n    const recognition = new SpeechRecognition();\n    recognition.lang = \"en-US\";\n    recognition.interimResults = false;\n    recognition.continuous = false;\n\n    setListening(true);\n    recognition.start();\n\n    recognition.onresult = async (event) => {\n      const userText = event.results[0][0].transcript;\n      setListening(false);\n\n      try {\n        const res = await fetch(\"http://127.0.0.1:8000/chat\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ message: userText }),\n        });\n\n        const data = await res.json();\n        setAiText(data.response);\n        speak(data.response);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    recognition.onerror = () => {\n      setListening(false);\n    };\n  };\n\n  // ---------------- BUTTON LOGIC ----------------\n  const handleButtonClick = () => {\n    if (speaking) {\n      // Stop speaking\n      window.speechSynthesis.cancel();\n      setSpeaking(false);\n      return;\n    }\n\n    if (!listening) {\n      startListening();\n    }\n  };\n\n  // ---------------- UI ----------------\n  return (\n    <div className=\"App\">\n      {/* AI Orb */}\n      <Orb listening={listening} speaking={speaking} />\n\n      {/* Assistant Name */}\n      <h1 className={`alice-title ${speaking ? \"speaking\" : \"\"}`}>\n    {\"Alice\".split(\"\").map((char, i) => (\n    <span\n      key={i}\n      className=\"alice-letter\"\n      style={{ animationDelay: `${i * 0.12}s` }}>\n      {char}\n    </span>\n    ))}\n      </h1>\n\n      {/* Mic Button */}\n      <button className=\"mic-button\" onClick={handleButtonClick}>\n        {listening\n          ? \"Listeningâ€¦\"\n          : speaking\n          ? \"Speakingâ€¦\"\n          : \"Tap to Speak\"}\n      </button>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}